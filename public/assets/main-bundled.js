(()=>{"use strict";new function(){const e=document.getElementById("startBtn"),t=document.getElementById("captureBtn"),n=document.getElementById("share"),a=document.getElementById("startScreen"),c=document.getElementById("cameraScreen"),d=document.getElementById("cread"),i=document.getElementById("creadImg"),o=document.getElementById("video"),l=document.getElementById("frameOverlay");document.getElementById("creadsContent"),e.onclick=async()=>{a.style.display="none",c.style.display="flex",await async function(){const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});o.srcObject=e}()},t.addEventListener("click",(()=>{const e=document.createElement("canvas"),t=e.getContext("2d");e.width=o.videoWidth,e.height=o.videoHeight,t.drawImage(o,0,0,e.width,e.height),t.drawImage(l,0,0,e.width,e.height);const n=e.toDataURL("image/png");i.src=n,c.style.display="none",d.style.display="flex"})),n.onclick=async()=>{(await html2canvas(i,{useCORS:!0,backgroundColor:null,scale:2})).toBlob((async e=>{const t=new File([e],"greeting-card.png",{type:"image/png"});if(navigator.canShare&&navigator.canShare({files:[t]}))await navigator.share({files:[t],title:"Greeting Card"});else{const t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="greeting-card.png",t.click()}}))}}})();